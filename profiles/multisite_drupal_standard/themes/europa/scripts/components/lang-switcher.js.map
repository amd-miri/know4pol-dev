{"version":3,"sources":["components/lang-switcher.js"],"names":["languageSwitcherPage","breakpoints","_this","this","pageSwitcher","wrapClass","listClass","itemClass","iconClass","unavClass","wrapWidth","jQuery","outerWidth","listWidth","iconWidth","unavailableWidth","itemsWidth","overallWidth","children","each","itemsOverflow","availableSpace","once","pageLanguageSelector","selectify","listSelector","item","other","unavailable","selected","overflowToggle","trigger","enquire","register","medium","match","window","resize","unmatch","off","setup","Drupal","behaviors","attach","europa"],"mappings":"CAAC,WACC,YAMA,SAASA,GAAqBC,GAC5B,GAAIC,GAAQC,KAERC,GACFC,UAAW,oBACXC,UAAW,0BACXC,UAAW,4BACXC,UAAW,0BACXC,UAAW,iCACXC,UAAW,WACT,MAAOC,QAAOP,EAAaC,WAAWO,cAExCC,UAAW,WACT,MAAOF,QAAOP,EAAaE,WAAWM,cAExCE,UAAW,WACT,MAAOH,QAAOP,EAAaI,WAAWI,cAExCG,iBAAkB,WAChB,MAAOJ,QAAOP,EAAaK,WAAWG,cAExCI,WAAY,WACV,GAAIC,GAAe,CAInB,OAHAN,QAAOP,EAAaE,WAAWY,SAASd,EAAaG,WAAWY,KAAK,WACnEF,GAAgBN,OAAOT,GAAOU,eAEzBK,GAETG,cAAe,WACb,GAAIC,GAAiBjB,EAAaM,YAAcN,EAAaU,YAAcV,EAAaW,kBAExF,OAAOX,GAAaY,aAAeK,EAAiB,IAIxDV,QAAO,wDAAwDW,KAAK,mBAAoB,WACtF,GAAIC,GAAuBZ,OAAO,oBAClCY,GAAqBC,WACnBC,aAAc,yBACdC,KAAM,2BACNC,MAAO,0BACPC,YAAa,gCACbC,SAAU,eAGZ,IAAIC,GAAiB,WACnB,OAAQ1B,EAAagB,iBACnB,KAAK,EACHG,EAAqBQ,QAAQ,aAC7BR,EAAqBQ,QAAQ,gBAC7B,MACF,MAAK,EACL,QACER,EAAqBQ,QAAQ,aAC7BR,EAAqBQ,QAAQ,kBAKZ,oBAAZC,UAETA,QAAQC,SAAShC,EAAYiC,QAE3BC,MAAO,WACLxB,OAAOyB,QAAQC,OAAO,WACpBP,OAIJQ,QAAS,WACP3B,OAAOyB,QAAQG,IAAI,WAErBC,MAAO,WACLV,SAQVW,OAAOC,UAAU1C,sBACf2C,OAAQ,WACN,MAAO3C,GAAqByC,OAAOG,OAAO3C","file":"components/lang-switcher.js","sourcesContent":["(function () {\n  'use strict';\n\n  /**\n   * Page level language switcher.\n   */\n\n  function languageSwitcherPage(breakpoints) {\n    var _this = this;\n\n    var pageSwitcher = {\n      wrapClass: '.lang-select-page',\n      listClass: '.lang-select-page__list',\n      itemClass: '.lang-select-page__option',\n      iconClass: '.lang-select-page__icon',\n      unavClass: '.lang-select-page__unavailable',\n      wrapWidth: function wrapWidth() {\n        return jQuery(pageSwitcher.wrapClass).outerWidth();\n      },\n      listWidth: function listWidth() {\n        return jQuery(pageSwitcher.listClass).outerWidth();\n      },\n      iconWidth: function iconWidth() {\n        return jQuery(pageSwitcher.iconClass).outerWidth();\n      },\n      unavailableWidth: function unavailableWidth() {\n        return jQuery(pageSwitcher.unavClass).outerWidth();\n      },\n      itemsWidth: function itemsWidth() {\n        var overallWidth = 0;\n        jQuery(pageSwitcher.listClass).children(pageSwitcher.itemClass).each(function () {\n          overallWidth += jQuery(_this).outerWidth();\n        });\n        return overallWidth;\n      },\n      itemsOverflow: function itemsOverflow() {\n        var availableSpace = pageSwitcher.wrapWidth() - pageSwitcher.iconWidth() - pageSwitcher.unavailableWidth();\n\n        return pageSwitcher.itemsWidth() > availableSpace - 20;\n      }\n    };\n\n    jQuery('#block-language-selector-page-language-selector-page').once('lang-select-page', function () {\n      var pageLanguageSelector = jQuery('.lang-select-page');\n      pageLanguageSelector.selectify({\n        listSelector: 'lang-select-page__list',\n        item: 'lang-select-page__option',\n        other: 'lang-select-page__other',\n        unavailable: 'lang-select-page__unavailable',\n        selected: 'is-selected'\n      });\n\n      var overflowToggle = function overflowToggle() {\n        switch (pageSwitcher.itemsOverflow()) {\n          case true:\n            pageLanguageSelector.trigger('hide.list');\n            pageLanguageSelector.trigger('show.dropdown');\n            break;\n          case false:\n          default:\n            pageLanguageSelector.trigger('show.list');\n            pageLanguageSelector.trigger('hide.dropdown');\n            break;\n        }\n      };\n\n      if (typeof enquire !== 'undefined') {\n        // Runs on device width change.\n        enquire.register(breakpoints.medium, {\n          // Desktop case.\n          match: function match() {\n            jQuery(window).resize(function () {\n              overflowToggle();\n            });\n          },\n          // Mobile case.\n          unmatch: function unmatch() {\n            jQuery(window).off('resize');\n          },\n          setup: function setup() {\n            overflowToggle();\n          }\n        });\n      }\n    });\n  }\n\n  // Lang select page\n  Drupal.behaviors.languageSwitcherPage = {\n    attach: function attach() {\n      return languageSwitcherPage(Drupal.europa.breakpoints);\n    }\n  };\n\n}());\n//# sourceMappingURL=lang-switcher.js.map"],"sourceRoot":"../src/"}